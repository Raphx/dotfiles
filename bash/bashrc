#
# ~/.bashrc
#

# If not running interactively, don't do anything
[[ $- != *i* ]] && return

#
# Shell option
#
shopt -s autocd

#
# Alias
#
alias ll='ls -alv'
alias pig='ping google.com'
alias be='bundle exec'
alias g='hub'
alias lock='i3lock -e -c 000000'
alias locks='i3lock -e -c d3d3d3 && systemctl suspend'

#
# Environment variable
#
## gpg
export GPG_TTY=$(tty)

## shell prompt
export PS1="\n\w\n$ "

## fzf include hidden files and exclude certain directories
export FZF_DEFAULT_COMMAND='fd --type f --hidden --follow --exclude .git'

## user home bin
export PATH="$HOME/.local/bin:$PATH"

## rbenv
export PATH="$HOME/.rbenv/bin:$PATH"
export PATH="$HOME/.rbenv/shims:$PATH"

## pyenv
export PATH="$HOME/.pyenv/bin:$PATH"
export PATH="$HOME/.pyenv/shims:$PATH"

## nodenv
export PATH="$HOME/.nodenv/bin:$PATH"
export PATH="$HOME/.nodenv/shims:$PATH"

#
# Tab completion
#
source /usr/share/bash-completion/bash_completion

## tab completion for `g' alias
_completion_loader hub
complete -o bashdefault -o default -o nospace -F _git g

#
# SSH agent
#
if [ ! -S ~/.ssh/ssh_auth_sock ]
then
  eval `ssh-agent` 1>/dev/null
  ln -sf "$SSH_AUTH_SOCK" ~/.ssh/ssh_auth_sock
fi
export SSH_AUTH_SOCK=~/.ssh/ssh_auth_sock
