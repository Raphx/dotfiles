#!/usr/bin/env bash

usage="
Substitute all space with underscore in file name for all
files in current working directory. A custom character can be
supplied instead to be used in place of underscore.

Usage:

  $(basename "$0") [options]

Options:

  -c <char>    Character to be used for space character substitution.

  -h           Show this help message"

for i in "$@"
do
case $i in
-c)
  shift
  rmspace_s_char="$1"
  break
  ;;
-h)
  echo "$usage"
  exit 0
  ;;
*)
  echo "$usage"
  exit 1
  ;;
esac
done

for file in *
do
  mv "$file" "${file// /${rmspace_s_char-_}}"
done
