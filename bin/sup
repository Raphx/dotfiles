#!/usr/bin/env bash

# System upgrade script

echo ""
echo "======================================"
echo "   System upgrade"
echo "======================================"
echo ""

sudo pacman -Syyu
sudo pacman -Sc --noconfirm

echo ""
echo "======================================"
echo "   AUR repositories"
echo "======================================"
echo ""

for i in $HOME/Downloads/aur/*;
do
  echo "Cleaning and checking $(basename "$i")..."
  git -C "$i" clean -qf
  git -C "$i" pull
done

echo ""
echo "======================================"
echo "   tealdeer local cache"
echo "======================================"
echo ""

tldr -u

echo ""
echo "======================================"
echo "   asdf and its plugins"
echo "======================================"
echo ""

asdf update
asdf plugin-update --all

echo ""
echo "======================================"
echo "   vim plugins"
echo "======================================"
echo ""

git -C "$HOME/.vim" submodule foreach git pull origin master
