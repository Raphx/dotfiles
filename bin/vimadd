#!/usr/bin/env bash

usage="Usage: $0 <git_repository_url>

Add vim plugin as git submodule.

Arguments:

  git_repository_url    Git SSH / HTTPS URL

Options:

  -h    Show this help message"

if [ $# -ne 1 ]
then
  echo "$usage"
  exit 1
fi

for i in "$@"
do
case $i in
-h)
  echo "$usage"
  exit 0
  ;;
esac
done

url=$1
name=$(basename $url)
name=${name%.git}

git -C "$HOME/.vim" submodule add "$url" "bundle/$name"
