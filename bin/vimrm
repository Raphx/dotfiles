#!/usr/bin/env bash

usage="Usage: $0 <plugin_name>

Remove vim plugin from git submodule.

Arguments:

  plugin_name    The name of plugin, usually it is the name
                 of the plugin's GitHub repository.

Options:

  -h    Show this help message"

if [ $# -ne 1 ]
then
  echo "$usage"
  exit 1
fi

for i in "$@"
do
case $i in
-h)
  echo "$usage"
  exit 0
  ;;
esac
done

name=$1
vimdir="$HOME/.vim"

git -C "$vimdir" submodule deinit -f "$vimdir/bundle/$name"
git -C "$vimdir" rm -rf "$vimdir/bundle/$name"
rm -rf "$vimdir/.git/modules/bundle/$name"
