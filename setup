#!/usr/bin/env bash

## Full path of script
cwd=$(dirname $(realpath $0))

## Commands
log='echo'
create='mkdir -p'
link='ln -sfn'

## Start setup
$log 'Setting up dotfiles ...'

$log '  user bin directory'
$create ~/.local
$link $cwd/bin ~/.local/bin

$log '  bash'
$link $cwd/bash/bashrc ~/.bashrc
$link $cwd/bash/bash_profile ~/.bash_profile

$log '  fontconfig'
$create ~/.config/fontconfig
$link $cwd/fontconfig/fonts.conf ~/.config/fontconfig/fonts.conf

$log '  git'
$link $cwd/git/gitconfig ~/.gitconfig
$link $cwd/git/gitignore ~/.gitignore

$log '  gnupg'
$create ~/.gnupg
$link $cwd/gnupg/gpg-agent.conf ~/.gnupg/gpg-agent.conf

$log '  python'
$create ~/.pip
$link $cwd/python/pip.conf ~/.pip/pip.conf

$log '  readline'
$link $cwd/readline/inputrc ~/.inputrc

$log '  ruby'
$link $cwd/ruby/gemrc ~/.gemrc
$link $cwd/ruby/irbrc ~/.irbrc

$log '  ruby (bundler)'
$create ~/.bundle
$link $cwd/ruby/bundler-config ~/.bundle/config

$log '  systemd'
$create ~/.config/systemd/user
$link $cwd/systemd/user/ssh-agent.service ~/.config/systemd/user/ssh-agent.service

$log '  tmux'
$link $cwd/tmux/tmux.conf ~/.tmux.conf

$log '  vim'
$link $cwd/vim/vimrc ~/.vimrc

$log '  x'
$link $cwd/x/Xresources ~/.Xresources
$link $cwd/x/xinitrc ~/.xinitrc

$log '  x (i3)'
$create ~/.config/i3
$link $cwd/x/i3-config ~/.config/i3/config

$log '  x (i3status)'
$create ~/.config/i3status
$link $cwd/x/i3status-config ~/.config/i3status/config

$log 'Done.'
