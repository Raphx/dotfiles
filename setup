#!/usr/bin/env zsh

# Commands assuming coreutils package is used

# Full path of script
cwd="$(dirname "$(realpath "$0")")"

# Commands
_log() {
  echo "$1"
}

_create() {
  mkdir -p "$1"
}

_link() {
  ln -sfn "$1" "$2"
}

# Start setup
_log 'Setting up dotfiles ...'

_log '  alacritty'
_create "$HOME/.config/alacritty"
_link "$cwd/alacritty/alacritty.yml" "$HOME/.config/alacritty/alacritty.yml"

_log '  bin directory'
_create "$HOME/.local"
_link "$cwd/bin" "$HOME/.local/bin"

_log '  git'
_create "$HOME/.config/git"
_link "$cwd/git/config" "$HOME/.config/git/config"
_link "$cwd/git/ignore" "$HOME/.config/git/ignore"

_log '  gnupg'
_create "$HOME/.gnupg"
_link "$cwd/gnupg/gpg-agent.conf" "$HOME/.gnupg/gpg-agent.conf"

_log '  readline'
_link "$cwd/readline/inputrc" "$HOME/.inputrc"

_log '  ruby'
_link "$cwd/ruby/gemrc" "$HOME/.gemrc"
_link "$cwd/ruby/irbrc" "$HOME/.irbrc"

_log '  ruby bundler'
_create "$HOME/.bundle"
_link "$cwd/ruby/bundler-config" "$HOME/.bundle/config"

_log '  tmux'
_link "$cwd/tmux/tmux.conf" "$HOME/.tmux.conf"

_log '  vim'
_link "$cwd/vim/vimrc" "$HOME/.vimrc"

_log '  zsh'
_link "$cwd/zsh/zshrc" "$HOME/.zshrc"

_log 'Done.'
